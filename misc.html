<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <title>Settings | 3kh0</title>
    <style>
     .text-center {
        text-align: center;
      }
      body {
        cursor: none; /* Hide the default cursor */
      }
      .dot {
        position: absolute;
        top: 0;
        left: 0;
        width: 10px;
        height: 10px;
        background-color: #06adbc;
        border-radius: 50%;
        transform: translate(-50%, -50%);
        pointer-events: none; /* Make the dot not interactable */
      }
    </style>
  </head>
  <body style="background-color: #121212; color: #ffffff; font-family: roboto; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh;">
    <div style="width: 100%; max-width: 600px; margin-bottom: 2em;">
      </div>
    </div>
    <div style="width: 100%; max-width: 600px;">
      <div>
        <h1>Tab Cloaker</h1>
        <p>Enter a new tab title or a image URL below. What you set will be used on the whole site.</p>
        <p>
          <input id="userinput" type="url" placeholder="Enter a title or image URL" autocomplete="on" style="width: 100%; padding: 10px; border: none; border-radius: 10px; background-color: #2c2c2c; color: #ffffff;" />
        </p>
        <p id="console-output"></p>
      </div>
      <div class="button-wrapper" style="display: flex; justify-content: space-between; margin-top: 1em;">
        <button onclick="changeTabTitle();" style="padding: 10px 20px; border: none; border-radius: 10px; background-color: #0056b3; color: #ffffff;">Set Title</button>
        <button onclick="changeTabIcon();" style="padding: 10px 20px; border: none; border-radius: 10px; background-color: #0056b3; color: #ffffff;">Set Icon</button>
        <button onclick="resetTabSettings();" style="padding: 10px 20px; border: none; border-radius: 10px; background-color: #0056b3; color: #ffffff;">Reset</button>
      </div>
    </div>
    <div style="width: 100%; max-width: 600px; margin-bottom: 2em;">
      <div>
        <h1>Ads consent</h1>
        <div>
          <p>Sometimes, ads are shown to support the creator, if you would not like to see ads or it slows down your computer too much, you can disable them here.</p>
          <label for="adConsent">Do not show ads at all:</label>
          <input type="checkbox" id="adConsent" name="adConsent">
          <br>
        </div>
      </div>
    </div>
    <p style="text-align: center; margin-top: 2em;">
      <a href="/index.html" style="text-decoration: none;">
      </a>
    </p>
    <div class="dot"></div> <!-- Add the dot element -->
    <script>
      // Get the dot element
      const dot = document.querySelector('.dot');

      // Add event listener to track mouse movement
      document.addEventListener('mousemove', (e) => {
        // Update the dot's position
        dot.style.top = `${e.clientY}px`;
        dot.style.left = `${e.clientX}px`;
      });

      function changeTabTitle() {
        const userInput = document.getElementById('userinput').value;
        window.parent.postMessage({
          type: 'tabTitleUpdated',
          data: userInput
        }, '*');
      }

      function changeTabIcon() {
        const userInput = document.getElementById('userinput').value;
        window.parent.postMessage({
          type: 'tabIconUpdated',
          data: userInput
        }, '*');
      }

      function resetTabSettings() {
        window.parent.postMessage({
          type: 'tabSettingsReset'
        }, '*');
      }

      document.getElementById('adConsent').addEventListener('change', (e) => {
        window.parent.postMessage({
          type: 'adConsentUpdated',
          data: e.target.checked
        }, '*');
      });
    </script>
  </body>
</html>
